{"ast":null,"code":"import { MeteoItem } from '../meteoItem';\nimport * as i0 from \"@angular/core\";\nexport let MeteoService = /*#__PURE__*/(() => {\n  class MeteoService {\n    constructor() {}\n\n    getMeteo(name) {\n      console.log('from service', name);\n      let m = new MeteoItem();\n      return fetch('https://api.openweathermap.org/data/2.5/weather/?q=' + name + '&units=metric&lang=fr&appid=d8b776ece016b830373c4557e946b7ed').then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        // test du code retour\n        // 200 = OK\n        // 404 = city not found \n        if (json.cod === 200) {\n          return Promise.resolve(json);\n        } else {\n          m.weather = json;\n          console.error('Météo introuvable pour ' + name + ' (' + json.message + ')');\n          return Promise.reject('Météo introuvable pour ' + name + ' (' + json.message + ')');\n        }\n      });\n    }\n\n  }\n\n  MeteoService.ɵfac = function MeteoService_Factory(t) {\n    return new (t || MeteoService)();\n  };\n\n  MeteoService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MeteoService,\n    factory: MeteoService.ɵfac,\n    providedIn: 'root'\n  });\n  return MeteoService;\n})();","map":null,"metadata":{},"sourceType":"module"}